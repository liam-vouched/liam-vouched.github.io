<script src="https://static.vouched.id/plugin/releases/latest/index.js"></script>
<script type='text/javascript'>
  (function() {
    var token = null;
    var strTokenAvailable = '';
    if (strTokenAvailable != "") {
      token = strTokenAvailable;
    }

    var vouched = Vouched({
    // Optional verification properties.
      verification: {
        // verify the user's information 
        firstName: 'Liam',
        lastName: 'VTN_TEST',
        // used for the crosscheck feature
        email: 'liam.casola+vtn@vouched.id',
        phone: '5555555555'
      },
      token: token,
      liveness: 'mouth',
      id: 'camera',
      includeBarcode: 'true',
      manualCaptureTimeout: 20000,
      showTermsAndPrivacy: true,
      appId: 'JcFdbOR*7TQZzI8wIOI8zMtDg3#@@O',
      // your webhook for POST verification processing
      callbackURL: 'https://webhook.site/4f6dafbc-ce77-4ed9-af86-d50b44b57b7e',

      // mobile handoff
      crossDevice: true,
      crossDeviceQRCode: true,
      crossDeviceSMS: true,
      
      // called when the token is initialized
      onInit: ({token, job}) => {
        console.log('Initialization');
        fetch('https://webhook.site/4f6dafbc-ce77-4ed9-af86-d50b44b57b7e' + job.token);
      },
      // called when the verification is completed.
      onDone: (job) => {
        // token used to query jobs
        console.log("Scanning complete", { token: job.token });

        // An alternative way to update your system based on the 
        // results of the job. Your backend could perform the following:
        // 1. query jobs with the token
        // 2. store relevant job information such as the id and 
        //    success property into the user's profile
        fetch('https://webhook.site/4f6dafbc-ce77-4ed9-af86-d50b44b57b7e' + job.token);
      },
      
      // theme
      theme: {
        name: 'verbose',
      },
    });
    vouched.mount("#vouched-element");
  })();
  </script>

<div id='vouched-element' style="height: 100%"></div>/>
